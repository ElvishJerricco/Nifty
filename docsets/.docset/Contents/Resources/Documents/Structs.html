<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Structs  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Structs  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (64% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
        Structs  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/ChannelWriter.html">ChannelWriter</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Lock.html">Lock</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Promise.html">Promise</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/Either.html">Either</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/CollectionType.html">CollectionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/DispatchQueue.html">DispatchQueue</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/Optional.html">Optional</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions/*(_:_:).html">*(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/+(_:_:).html">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/+(_:_:).html">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/+(_:_:).html">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/+(_:_:).html">+(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;*&gt;(_:_:).html">&lt;*&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;*&gt;(_:_:).html">&lt;*&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF5Niftyoi3lmgu1_rFTGOS_6EitherxFq_q0__GS0_xq___GS0_xq0__">&lt;*&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;*&gt;(_:_:).html">&lt;*&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;*&gt;(_:_:).html">&lt;*&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;^&gt;(_:_:).html">&lt;^&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;^&gt;(_:_:).html">&lt;^&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF5Niftyoi3lxgu1_rFTFq_q0_GOS_6Eitherxq___GS0_xq0__">&lt;^&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;^&gt;(_:_:).html">&lt;^&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&lt;^&gt;(_:_:).html">&lt;^&gt;(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&gt;&gt;==(_:_:).html">&gt;&gt;==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&gt;&gt;==(_:_:).html">&gt;&gt;==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&gt;&gt;==(_:_:).html">&gt;&gt;==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions/&gt;&gt;==(_:_:).html">&gt;&gt;==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:ZF5Niftyoi4ggeeu1_rFTGOS_6Eitherxq__Fq_GS0_xq0___GS0_xq0__">&gt;&gt;==(_:_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty6callccu1_rFFFq_GVS_12Continuationxq0__GS0_xq__GS0_xq__">callcc(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu7_rFFTxq_q0_q1_q2_q3_q4_q5__q6_FxFq_Fq0_Fq1_Fq2_Fq3_Fq4_Fq5_q6_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu5_rFFTxq_q0_q1_q2_q3__q4_FxFq_Fq0_Fq1_Fq2_Fq3_q4_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu6_rFFTxq_q0_q1_q2_q3_q4__q5_FxFq_Fq0_Fq1_Fq2_Fq3_Fq4_q5_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu4_rFFTxq_q0_q1_q2__q3_FxFq_Fq0_Fq1_Fq2_q3_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu1_rFFTxq__q0_FxFq_q0_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu3_rFFTxq_q0_q1__q2_FxFq_Fq0_Fq1_q2_">curry(_:)</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/s:F5Nifty5curryu2_rFFTxq_q0__q1_FxFq_Fq0_q1_">curry(_:)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structs</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/Channel.html">Channel</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Continuation.html">Continuation</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Future.html">Future</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Stream.html">Stream</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Structs</h1>
            <p>The following structs are available globally.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:V5Nifty12Continuation"></a>
                    <a name="//apple_ref/swift/Struct/Continuation" class="dashAnchor"></a>
                    <a class="token" href="#/s:V5Nifty12Continuation">Continuation</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Monadic implementation of continuation passing style (CPS).
An instance of <code>Continuation&lt;R, A&gt;</code> represents a computation resulting in an <code>A</code> value.
By passing a continuation of type <code>A -&gt; R</code>, a <code>Continuation&lt;R, A&gt;</code> will use
the <code>A</code> result and the continuation to produce an <code>R</code>.</p>

                        <a href="Structs/Continuation.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Continuation</span><span class="o">&lt;</span><span class="kt">R</span><span class="p">,</span> <span class="kt">A</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:V5Nifty6Stream"></a>
                    <a name="//apple_ref/swift/Struct/Stream" class="dashAnchor"></a>
                    <a class="token" href="#/s:V5Nifty6Stream">Stream</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A lazy, asynchronous, concurrent, and
reusable stream of operations on elements of data.</p>

<pre class="highlight plaintext"><code>let sum = (1..&lt;50000).stream()
    .filter { $0 % 2 == 0 }
    .reduce(0, reducer: +)
    .wait()
</code></pre>

<p>This example makes a stream from the collection created by <code>(1..&lt;50000)</code>.
Then it filters out from that stream all elements that aren&rsquo;t even.
Then it reduces the stream;
it starts at 0, then uses + to combine all elements.
Streams work asynchronously, so <code>wait()</code> is called to wait on the result.</p>

<p>There are three stages to using streams.</p>

<ul>
<li><p><strong>Create the stream</strong></p>

<p>Most often, a stream will be created using <code>CollectionType.stream()</code>,
or <code>Stream.of(T...)</code>.
But it is possible to create custom streams.</p>

<p>A stream uses the <code><a href="Structs/Continuation.html">Continuation</a></code> monad to pass elements to handlers.
A continuation is specialized to the type <code>Continuation&lt;Future&lt;()&gt;, T&gt;</code>.
It returns a <code><a href="Structs/Future.html">Future&lt;()&gt;</a></code> because the handlers are asynchronous.
The goal is to create a continuation that will
call the handler once for each element.
This is encouraged to be concurrent.
A stream shouldn&rsquo;t complete its future until
all the futures returned by the handler are completed.</p>

<p>The future&rsquo;s type is <code><a href="Structs/Future.html">Future&lt;()&gt;</a></code> because it is isomorphic to <code>()</code>.
That is to say there is no actual return value.
The only thing that matters is the time of completion.</p></li>
<li><p><strong>Manipulate the stream</strong></p>

<p>There are several intermediary operations to manipulate the stream.
The simplest is <code>Stream&lt;T&gt;.map(T -&gt; U)</code>.
This returns a stream that maps elements of
the original stream to elements of a different type.</p>

<p>Streams are immutable, lazy, and reusable,
so intermediary operations aren&rsquo;t changing the stream or its elements.
Instead, they construct a new stream that will
get its elements from the old stream,
and modify them accordingly before passing the element to a handler.</p></li>
<li><p><strong>Run the stream</strong></p>

<p>Terminal operations on a stream will start running the stream.
Most often, the stream will run asynchronously and concurrently,
but this depends on the how the stream was created.
<q>Running</q> a stream means to start accepting
elements of the stream with a handler.
The simplest example of this is <code>Stream.forEach</code>,
which calls a handler for each element.</p>

<p>Most streams are concurrent.
This leads to dramatic performance improvements in many scenarios.
There are, however, situations where the overhead of
concurrency outweights the performance gains.
For example, there are two different methods of reducing a stream.
One is psuedo-serial, in that the reduction is performed serially,
while the elements are computed concurrently.
The other is fully concurrent, where both the computation of
elements and the reduction are concurrent.
For very fast reduction functions,
the psuedo-serial method is usually faster,
since there&rsquo;s no concurrency overhead.
For slower reduction functions, the concurrent method is usually faster,
since more reductions can be occurring at a time.</p></li>
</ul>

<p>Streams and collections differ in several ways.
Besides being concurrent and asynchronous, streams are lazy and unordered.
Streams do not store elements, and instead rely on abstract data sources.
They can&rsquo;t have their count calculated.
Most importantly, <code>Stream</code> is not a data structure.
It is a pipeline for manipulating elements, no matter how many there are.
This is the inspiration for using the <code><a href="Structs/Continuation.html">Continuation</a></code> monad.</p>

                        <a href="Structs/Stream.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Stream</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:V5Nifty7Channel"></a>
                    <a name="//apple_ref/swift/Struct/Channel" class="dashAnchor"></a>
                    <a class="token" href="#/s:V5Nifty7Channel">Channel</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>Channel</code> is a frontend for receiving values written to a <code><a href="Classes/ChannelWriter.html">ChannelWriter</a></code>.
A <code>Channel</code> provides an interface for adding handlers for these values,
as well as ways to create new <code>Channels</code> that
change values before passing them to handlers.
Each handler is only ever called once;
with the next value the channel receives after adding it.</p>

                        <a href="Structs/Channel.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Channel</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Future"></a>
                <a name="//apple_ref/swift/Section/Future" class="dashAnchor"></a>
                <a href="#/Future">
                  <h3 class="section-name">Future</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:V5Nifty6Future"></a>
                    <a name="//apple_ref/swift/Struct/Future" class="dashAnchor"></a>
                    <a class="token" href="#/s:V5Nifty6Future">Future</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>A <code>Future</code> represents a value to be determined later.
<code>Future</code> provides an interface for manipulating that value.</p>

<pre class="highlight plaintext"><code>future
    .map { $0 + 1 }
    .flatMap { $0.futureComp() }
    .onComplete { print($0) }
</code></pre>

                        <a href="Structs/Future.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2016 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2016-03-23)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.5.0</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
